var ColorHolder, Fill_, css;

css = require('../../../../utility/css');

ColorHolder = require('../tools/ColorHolder');

module.exports = Fill_ = (function() {
  function Fill_() {}

  Fill_.prototype.__initMixinFill = function() {
    this.fill = new ColorHolder(this._getFillUpdater());
    return this._fill = {
      bgColor: 'none',
      color: 'inherit',
      border: 'none',
      opacity: 1
    };
  };

  Fill_.prototype.__clonerForFill = function(newStyleSetter) {
    newStyleSetter.fill = this.fill.clone(newStyleSetter._getFillUpdater());
  };

  Fill_.prototype._getFillUpdater = function() {
    return (function(_this) {
      return function() {
        _this._updateFill();
      };
    })(this);
  };

  Fill_.prototype._updateFill = function() {
    this._styles.backgroundColor = this._fill.bgColor = this.fill._color.toCss();
    return this;
  };

  Fill_.prototype.rotateFillHue = function(amount) {
    this._fill.bgColor.rotateHue(amount);
    return this._styles.backgroundColor = this._fill.bgColor.toCss();
  };

  Fill_.prototype.setTextColor = function(r, g, b) {
    this._styles.color = this._fill.color = css.rgb(r, g, b);
    return null;
  };

  Fill_.prototype.makeHollow = function() {
    return this._styles.bgColor = this._fill.bgColor = 'transparent';
  };

  Fill_.prototype.texturize = function(filename) {
    var addr;
    addr = "./images/" + filename;
    this._styles.background = 'url(' + addr + ')';
    return this;
  };

  Fill_.prototype.setTexturePosition = function(x, y) {
    this._styles.backgroundPosition = "" + x + "px " + y + "px";
    return this;
  };

  Fill_.prototype.setBorder = function(thickness, r, g, b) {
    if (thickness == null) {
      this._styles.border = this._fill.border = 'none';
    } else {
      this._styles.border = this._fill.border = "" + thickness + "px solid " + (css.rgb(r, g, b));
    }
    return this;
  };

  Fill_.prototype.removeBorder = function() {
    this._styles.border = this._fill.border = 'none';
    return this;
  };

  Fill_.prototype.setOpacity = function(d) {
    this._styles.opacity = this._fill.opacity = d;
    return this;
  };

  Fill_.prototype.adjustOpacity = function(d) {
    this._fill.opacity += d;
    this._styles.opacity = this._fill.opacity;
    return this;
  };

  return Fill_;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmlsbF8uanMiLCJzb3VyY2VSb290IjoiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uIiwic291cmNlcyI6WyJjb2ZmZWVcXGxpYlxcZm94aWVcXGxpYlxcZWxcXG1peGluXFxzdHlsZVNldHRlclxcbWl4aW5cXEZpbGxfLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLHVCQUFBOztBaURBQSxHaURBQSxHaURBTSxPaURBQSxDaURBUSx5QmlEQVIsQ0FBTixDQUFBOztBaURDQSxXaURBQSxHaURBYyxPaURBQSxDaURBUSxzQmlEQVIsQ0FEZCxDQUFBOztBaURHQSxNaURBTSxDaURBQyxPaURBUCxHaURBdUI7cUJpREV0Qjs7QWlEQUEsa0JpREFBLGVpREFBLEdpREFpQixTaURBQSxHaURBQTtBaURFaEIsSWlEQUEsSWlEQUMsQ2lEQUEsSWlEQUQsR2lEQVksSWlEQUEsV2lEQUEsQ2lEQVksSWlEQUMsQ2lEQUEsZWlEQUQsQ2lEQUEsQ2lEQVosQ2lEQVosQ2lEQUE7V2lERUEsSWlEQUMsQ2lEQUEsS2lEQUQsR2lERUM7QWlEQUEsTWlEQUEsT2lEQUEsRWlEQVMsTWlEQVQ7QWlEQUEsTWlERUEsS2lEQUEsRWlEQU8sU2lERlA7QWlEQUEsTWlESUEsTWlEQUEsRWlEQVEsTWlESlI7QWlEQUEsTWlETUEsT2lEQUEsRWlEQVMsQ2lETlQ7TWlETmU7RWlEQUEsQ2lEQWpCLENpREFBOztBaURBQSxrQmlEY0EsZWlEQUEsR2lEQWlCLFNpREFDLGNpREFELEdpREFBO0FpREVoQixJaURBQSxjaURBYyxDaURBQyxJaURBZixHaURBc0IsSWlEQUMsQ2lEQUEsSWlEQUksQ2lEQUMsS2lEQU4sQ2lEQVksY2lEQWMsQ2lEQUMsZWlEQWYsQ2lEQUEsQ2lEQVosQ2lEQXRCLENpREZnQjtFaURBQSxDaURkakIsQ2lEQUE7O0FpREFBLGtCaURvQkEsZWlEQUEsR2lEQWlCLFNpREFBLEdpREFBO1dpREVoQixDaURBQSxTaURBQSxLaURBQSxHaURBQTthaURBQSxTaURBQSxHaURBQTtBaURFQyxRaURBRyxLaURBQyxDaURBQSxXaURBSixDaURBQSxDaURBQSxDaURGRDtNaURBQSxFaURBQTtJaURBQSxDaURBQSxDaURBQSxDaURBQSxJaURBQSxFaURGZ0I7RWlEQUEsQ2lEcEJqQixDaURBQTs7QWlEQUEsa0JpRDRCQSxXaURBQSxHaURBYSxTaURBQSxHaURBQTtBaURFWixJaURBQSxJaURBQyxDaURBQSxPaURBTyxDaURBQyxlaURBVCxHaURBMkIsSWlEQUMsQ2lEQUEsS2lEQUssQ2lEQUMsT2lEQVAsR2lEQWlCLElpREFDLENpREFBLElpREFJLENpREFDLE1pREFNLENpREFDLEtpREFiLENpREFBLENpREE1QyxDaURBQTtXaURFQSxLaURKWTtFaURBQSxDaUQ1QmIsQ2lEQUE7O0FpREFBLGtCaURrQ0EsYWlEQUEsR2lEQWUsU2lEQUMsTWlEQUQsR2lEQUE7QWlERWQsSWlEQUEsSWlEQUMsQ2lEQUEsS2lEQUssQ2lEQUMsT2lEQU8sQ2lEQUMsU2lEQWYsQ2lEQXlCLE1pREF6QixDaURBQSxDaURBQTtXaURFQSxJaURBQyxDaURBQSxPaURBTyxDaURBQyxlaURBVCxHaURBMkIsSWlEQUMsQ2lEQUEsS2lEQUssQ2lEQUMsT2lEQU8sQ2lEQUMsS2lEQWYsQ2lEQUEsRWlESmI7RWlEQUEsQ2lEbENmLENpREFBOztBaURBQSxrQmlEd0NBLFlpREFBLEdpREFjLFNpREFDLENpREFELEVpREFJLENpREFKLEVpREFPLENpREFQLEdpREFBO0FpREViLElpREFBLElpREFDLENpREFBLE9pREFPLENpREFDLEtpREFULEdpREFpQixJaURBQyxDaURBQSxLaURBSyxDaURBQyxLaURBUCxHaURBZSxHaURBRyxDaURBQyxHaURBSixDaURBUSxDaURBUixFaURBVyxDaURBWCxFaURBYyxDaURBZCxDaURBaEMsQ2lEQUE7V2lERUEsS2lESmE7RWlEQUEsQ2lEeENkLENpREFBOztBaURBQSxrQmlEOENBLFVpREFBLEdpREFZLFNpREFBLEdpREFBO1dpREVYLElpREFDLENpREFBLE9pREFPLENpREFDLE9pREFULEdpREFtQixJaURBQyxDaURBQSxLaURBSyxDaURBQyxPaURBUCxHaURBaUIsY2lERnpCO0VpREFBLENpRDlDWixDaURBQTs7QWlEQUEsa0JpRGtEQSxTaURBQSxHaURBVyxTaURBQyxRaURBRCxHaURBQTtBaURFVixRaURBQSxJaURBQTtBaURBQSxJaURBQSxJaURBQSxHaURBUSxXaURBQSxHaURBVSxRaURBbEIsQ2lEQUE7QWlEQUEsSWlERUEsSWlEQUMsQ2lEQUEsT2lEQU8sQ2lEQUMsVWlEQVQsR2lEQXNCLE1pREFBLEdpREFTLElpREFULEdpREFnQixHaURGdEMsQ2lEQUE7V2lESUEsS2lETlU7RWlEQUEsQ2lEbERYLENpREFBOztBaURBQSxrQmlEMERBLGtCaURBQSxHaURBb0IsU2lEQUMsQ2lEQUQsRWlEQUksQ2lEQUosR2lEQUE7QWlERW5CLElpREFBLElpREFDLENpREFBLE9pREFPLENpREFDLGtCaURBVCxHaURBOEIsRWlEQUEsR2lEQUUsQ2lEQUYsR2lEQUssS2lEQUwsR2lEQVMsQ2lEQVQsR2lEQVksSWlEQTFDLENpREFBO1dpREVBLEtpREptQjtFaURBQSxDaUQxRHBCLENpREFBOztBaURBQSxrQmlEZ0VBLFNpREFBLEdpREFXLFNpREFDLFNpREFELEVpREFZLENpREFaLEVpREFlLENpREFmLEVpREFrQixDaURBbEIsR2lEQUE7QWlERVYsSWlEQUEsSWlEQU8saUJpREFQO0FpREVDLE1pREFBLElpREFDLENpREFBLE9pREFPLENpREFDLE1pREFULEdpREFrQixJaURBQyxDaURBQSxLaURBSyxDaURBQyxNaURBUCxHaURBZ0IsTWlEQWxDLENpREZEO0tpREFBLE1pREFBO0FpRE1DLE1pREFBLElpREFDLENpREFBLE9pREFPLENpREFDLE1pREFULEdpREFrQixJaURBQyxDaURBQSxLaURBSyxDaURBQyxNaURBUCxHaURBZ0IsRWlEQUEsR2lEQUUsU2lEQUYsR2lEQWEsV2lEQWIsR2lEQXVCLENpREFBLEdpREFHLENpREFDLEdpREFKLENpREFRLENpREFSLEVpREFXLENpREFYLEVpREFjLENpREFkLENpREFBLENpREF6RCxDaURORDtLaURBQTtXaURRQSxLaURWVTtFaURBQSxDaURoRVgsQ2lEQUE7O0FpREFBLGtCaUQ0RUEsWWlEQUEsR2lEQWMsU2lEQUEsR2lEQUE7QWlERWIsSWlEQUEsSWlEQUMsQ2lEQUEsT2lEQU8sQ2lEQUMsTWlEQVQsR2lEQWtCLElpREFDLENpREFBLEtpREFLLENpREFDLE1pREFQLEdpREFnQixNaURBbEMsQ2lEQUE7V2lERUEsS2lESmE7RWlEQUEsQ2lENUVkLENpREFBOztBaURBQSxrQmlEa0ZBLFVpREFBLEdpREFZLFNpREFDLENpREFELEdpREFBO0FpREVYLElpREFBLElpREFDLENpREFBLE9pREFPLENpREFDLE9pREFULEdpREFtQixJaURBQyxDaURBQSxLaURBSyxDaURBQyxPaURBUCxHaURBaUIsQ2lEQXBDLENpREFBO1dpREVBLEtpREpXO0VpREFBLENpRGxGWixDaURBQTs7QWlEQUEsa0JpRHdGQSxhaURBQSxHaURBZSxTaURBQyxDaURBRCxHaURBQTtBaURFZCxJaURBQSxJaURBQyxDaURBQSxLaURBSyxDaURBQyxPaURBUCxJaURBa0IsQ2lEQWxCLENpREFBO0FpREFBLElpREVBLElpREFDLENpREFBLE9pREFPLENpREFDLE9pREFULEdpREFtQixJaURBQyxDaURBQSxLaURBSyxDaURBQyxPaURGMUIsQ2lEQUE7V2lESUEsS2lETmM7RWlEQUEsQ2lEeEZmLENpREFBOztlaURBQTs7SUFMRCxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lIFsndHdlZW4nXSwgKFR3ZWVuKSAtPlxyXG5cclxuXHRjbGFzcyBBbmltYXRvclxyXG5cclxuXHRcdGNvbnN0cnVjdG9yOiAtPlxyXG5cclxuXHRcdFx0QGZyb20gPSBcclxuXHJcblx0XHRcdFx0IyBUcmFuc2xhdGUgUGFyYW1ldGVyc1xyXG5cdFx0XHRcdHRYOiAwXHJcblx0XHRcdFx0dFk6IDBcclxuXHRcdFx0XHR0WjogMFxyXG5cclxuXHRcdFx0XHQjIFJvdGF0aW9uIFBhcmFtZXRlcnNcclxuXHRcdFx0XHRyWDogMFxyXG5cdFx0XHRcdHJZOiAwXHJcblx0XHRcdFx0clo6IDBcclxuXHJcblx0XHRcdFx0IyBTY2FsZSBQYXJhbWV0ZXJzXHRcdFx0XHRcclxuXHRcdFx0XHRzWDogMVxyXG5cdFx0XHRcdHNZOiAxXHJcblx0XHRcdFx0c1o6IDFcclxuXHJcblx0XHRcdFx0IyBPcGFjaXR5XHJcblx0XHRcdFx0b1A6IDFcclxuXHJcblx0XHRcdEB0byA9XHJcblx0XHRcdFx0IyBUcmFuc2xhdGUgUGFyYW1ldGVyc1xyXG5cdFx0XHRcdHRYOiAwXHJcblx0XHRcdFx0dFk6IDBcclxuXHRcdFx0XHR0WjogMFxyXG5cclxuXHRcdFx0XHQjIFJvdGF0aW9uIFBhcmFtZXRlcnNcclxuXHRcdFx0XHRyWDogMFxyXG5cdFx0XHRcdHJZOiAwXHJcblx0XHRcdFx0clo6IDBcclxuXHJcblx0XHRcdFx0IyBTY2FsZSBQYXJhbWV0ZXJzXHRcdFx0XHRcclxuXHRcdFx0XHRzWDogMVxyXG5cdFx0XHRcdHNZOiAxXHJcblx0XHRcdFx0c1o6IDFcclxuXHJcblx0XHRcdFx0IyBPcGFjaXR5XHJcblx0XHRcdFx0b1A6IDFcclxuXHJcblx0XHRmcm9tU3RhdGU6IChwYXJhbSkgLT5cclxuXHJcblx0XHRcdEBmcm9tID0gXHJcblx0XHRcdFxyXG5cdFx0XHRcdCMgVHJhbnNsYXRlIFBhcmFtZXRlcnNcclxuXHRcdFx0XHR0WDogcGFyYW0udFggfHwgMFxyXG5cdFx0XHRcdHRZOiBwYXJhbS50WSB8fCAwXHJcblx0XHRcdFx0dFo6IHBhcmFtLnRaIHx8IDBcclxuXHJcblx0XHRcdFx0IyBSb3RhdGlvbiBQYXJhbWV0ZXJzXHJcblx0XHRcdFx0clg6IHBhcmFtLnJYIHx8IDBcclxuXHRcdFx0XHRyWTogcGFyYW0uclkgfHwgMFxyXG5cdFx0XHRcdHJaOiBwYXJhbS5yWiB8fCAwXHJcblxyXG5cdFx0XHRcdCMgU2NhbGUgUGFyYW1ldGVyc1x0XHRcdFx0XHJcblx0XHRcdFx0c1g6IHBhcmFtLnNYKy4wMDEgfHwgMVxyXG5cdFx0XHRcdHNZOiBwYXJhbS5zWSsuMDAxIHx8IDFcclxuXHRcdFx0XHRzWjogcGFyYW0uc1orLjAwMSB8fCAxXHJcblxyXG5cdFx0XHRcdCMgT3BhY2l0eVxyXG5cdFx0XHRcdG9QOiBwYXJhbS5vUCsuMDAxIHx8IDFcclxuXHRcdFx0XHJcblx0XHR0b1N0YXRlOiAocGFyYW0pIC0+XHJcblx0XHRcdFxyXG5cdFx0XHRAdG8gPVxyXG5cdFx0XHRcdCMgVHJhbnNsYXRlIFBhcmFtZXRlcnNcclxuXHRcdFx0XHR0WDogcGFyYW0udFggfHwgMFxyXG5cdFx0XHRcdHRZOiBwYXJhbS50WSB8fCAwXHJcblx0XHRcdFx0dFo6IHBhcmFtLnRaIHx8IDBcclxuXHJcblx0XHRcdFx0IyBSb3RhdGlvbiBQYXJhbWV0ZXJzXHJcblx0XHRcdFx0clg6IHBhcmFtLnJYIHx8IDBcclxuXHRcdFx0XHRyWTogcGFyYW0uclkgfHwgMFxyXG5cdFx0XHRcdHJaOiBwYXJhbS5yWiB8fCAwXHJcblxyXG5cdFx0XHRcdCMgU2NhbGUgUGFyYW1ldGVyc1x0XHRcdFx0XHJcblx0XHRcdFx0c1g6IHBhcmFtLnNYKy4wMDEgfHwgMVxyXG5cdFx0XHRcdHNZOiBwYXJhbS5zWSsuMDAxIHx8IDFcclxuXHRcdFx0XHRzWjogcGFyYW0uc1orLjAwMSB8fCAxXHJcblxyXG5cdFx0XHRcdCMgT3BhY2l0eVxyXG5cdFx0XHRcdG9QOiBwYXJhbS5vUCsuMDAxIHx8IDFcclxuXHJcblx0XHRzdGFydDogKGVsLCBkdXIsIGRlbCkgLT5cclxuXHJcblx0XHRcdEBkdXJhdGlvbiA9IGR1ciB8fCAxMDAwXHJcblx0XHRcdEBkZWxheSA9IGRlbCB8fCAwXHJcblxyXG5cdFx0XHRzdGFydENvcmRpbmF0aW9uID0gW1xyXG5cclxuXHRcdFx0XHRAZnJvbS50WCxcclxuXHRcdFx0XHRAZnJvbS50WSxcclxuXHRcdFx0XHRAZnJvbS50WlxyXG5cclxuXHRcdFx0XVxyXG5cclxuXHRcdFx0ZmluaXNoQ29yZGluYXRpb24gPSBbXHJcblxyXG5cdFx0XHRcdEB0by50WCxcclxuXHRcdFx0XHRAdG8udFksXHJcblx0XHRcdFx0QHRvLnRaXHJcblxyXG5cdFx0XHRdXHJcblxyXG5cdFx0XHRAbW92ZXIgPSBuZXcgVHdlZW4gZWwsIHN0YXJ0Q29yZGluYXRpb24sIGZpbmlzaENvcmRpbmF0aW9uLCBAZHVyYXRpb24sIEBkZWxheVxyXG5cdFx0XHRcclxuXHRcdFx0ZG8gQG1vdmVyLnNldFN0YXJ0XHJcblx0XHRcdFxyXG5cdFx0XHRkbyBAYW5pbWF0ZVxyXG5cclxuXHRcdGFuaW1hdGU6IC0+XHJcblxyXG5cdFx0XHRcdCMgcHJvZ3Jlc3MgPSB0aGlzLm1vdmVyLmNhbGN1bGF0ZVByb2dyZXNzKCdxdWludCcpXHJcblx0XHRcdFx0cHJvZ3Jlc3MgPSBAbW92ZXIuY2FsY3VsYXRlUHJvZ3Jlc3MgJ3F1aW50JyBcclxuXHJcblx0XHRcdFx0Y3VycmVudFggID0gQGZyb20udFggKyAoQHRvLnRYIC0gQGZyb20udFgpICogcHJvZ3Jlc3NcclxuXHRcdFx0XHRjdXJyZW50WSAgPSBAZnJvbS50WSArIChAdG8udFkgLSBAZnJvbS50WSkgKiBwcm9ncmVzc1xyXG5cdFx0XHRcdGN1cnJlbnRaICA9IEBmcm9tLnRaICsgKEB0by50WiAtIEBmcm9tLnRaKSAqIHByb2dyZXNzXHJcblx0XHRcdFx0Y3VycmVudFJYID0gQGZyb20uclggKyAoQHRvLnJYIC0gQGZyb20uclgpICogcHJvZ3Jlc3NcclxuXHRcdFx0XHRjdXJyZW50UlkgPSBAZnJvbS5yWSArIChAdG8uclkgLSBAZnJvbS5yWSkgKiBwcm9ncmVzc1xyXG5cdFx0XHRcdGN1cnJlbnRSWiA9IEBmcm9tLnJaICsgKEB0by5yWiAtIEBmcm9tLnJaKSAqIHByb2dyZXNzXHJcblx0XHRcdFx0Y3VycmVudFNYID0gQGZyb20uc1ggKyAoQHRvLnNYIC0gQGZyb20uc1gpICogcHJvZ3Jlc3NcclxuXHRcdFx0XHRjdXJyZW50U1kgPSBAZnJvbS5zWSArIChAdG8uc1kgLSBAZnJvbS5zWSkgKiBwcm9ncmVzc1xyXG5cdFx0XHRcdGN1cnJlbnRTWiA9IEBmcm9tLnNaICsgKEB0by5zWiAtIEBmcm9tLnNaKSAqIHByb2dyZXNzXHJcblx0XHRcdFx0Y3VycmVudE9QID0gQGZyb20ub1AgKyAoQHRvLm9QIC0gQGZyb20ub1ApICogcHJvZ3Jlc3NcclxuXHJcblx0XHRcdFx0QG1vdmVyLmVsLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoI3tjdXJyZW50WC50b0ZpeGVkKDUpfXB4LCAje2N1cnJlbnRZLnRvRml4ZWQoNSl9cHgsICN7Y3VycmVudFoudG9GaXhlZCg1KX1weCkgXCIgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgIFwicGVyc3BlY3RpdmUoMTAwMDApIFwiICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBcInNjYWxlM2QoI3tjdXJyZW50U1gudG9GaXhlZCg1KX0sICN7Y3VycmVudFNZLnRvRml4ZWQoNSl9LCAje2N1cnJlbnRTWi50b0ZpeGVkKDUpfSkgXCIgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgIFwicm90YXRlM2QoMSwgMCwgMCwgI3tjdXJyZW50UlgudG9GaXhlZCg1KX1kZWcpIFwiICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBcInJvdGF0ZTNkKDAsIDEsIDAsICN7Y3VycmVudFJZLnRvRml4ZWQoNSl9ZGVnKSBcIiArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgXCJyb3RhdGUzZCgwLCAwLCAxLCAje2N1cnJlbnRSWi50b0ZpeGVkKDUpfWRlZykgXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBcclxuXHRcdFx0XHRAbW92ZXIuZWwuc3R5bGUub3BhY2l0eSA9IGN1cnJlbnRPUDtcclxuXHJcblx0XHRcdFx0aWYgcHJvZ3Jlc3MgPCAxXHJcblxyXG5cdFx0XHRcdFx0d2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lID0+XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRkbyBAYW5pbWF0ZSIsImRlZmluZSAtPlxyXG5cclxuXHRyYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0Y2xhc3MgRXZlbnRMb29wXHJcblxyXG5cdFx0Y29uc3RydWN0b3I6IC0+XHJcblxyXG5cdFx0XHRAX2NhbGxiYWNrcyA9IFtdXHJcblxyXG5cdFx0XHRAX2JvdW5kRmlyZUZyYW1lID0gQF9maXJlRnJhbWUuYmluZCBAXHJcblxyXG5cdFx0YW5pbWF0ZTogLT5cclxuXHJcblx0XHRcdHJhZiBAX2JvdW5kRmlyZUZyYW1lXHJcblxyXG5cdFx0XHRAXHJcblxyXG5cdFx0b25OZXh0RnJhbWU6IChjYikgLT5cclxuXHJcblx0XHRcdEBfY2FsbGJhY2tzLnB1c2ggY2JcclxuXHJcblx0XHRcdEBcclxuXHJcblx0XHRfZmlyZUZyYW1lOiAtPlxyXG5cclxuXHRcdFx0Y2JzID0gQF9jYWxsYmFja3NcclxuXHJcblx0XHRcdEBfY2FsbGJhY2tzID0gW11cclxuXHJcblx0XHRcdGZvciBjYiBpbiBjYnNcclxuXHJcblx0XHRcdFx0ZG8gY2JcclxuXHJcblx0XHRcdGRvIEBhbmltYXRlIiwiZGVmaW5lIC0+XHJcblxyXG5cdGNsYXNzIEtleWJvYXJkXHJcblxyXG5cdFx0Y29uc3RydWN0b3I6IC0+XHJcblxyXG5cdFx0XHRAZG93bkxpc3RlbmVycyA9IHt9XHJcblxyXG5cdFx0XHRAdXBMaXN0ZW5lcnMgPSB7fVxyXG5cclxuXHRcdFx0QGFjdGl2ZUtleXMgPSB7fVxyXG5cclxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAna2V5ZG93bicsIChlKSA9PlxyXG5cclxuXHRcdFx0XHRrZXlDb2RlID0gZS5rZXlDb2RlXHJcblxyXG5cdFx0XHRcdHJldHVybiBpZiBub3QgQGRvd25MaXN0ZW5lcnNba2V5Q29kZV1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGlmIEBhY3RpdmVLZXlzW2tleUNvZGVdXHJcblxyXG5cdFx0XHRcdEBhY3RpdmVLZXlzW2tleUNvZGVdID0gb25cclxuXHJcblx0XHRcdFx0QGRvd25MaXN0ZW5lcnNba2V5Q29kZV0gZVxyXG5cclxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAna2V5dXAnLCAoZSkgPT5cclxuXHJcblx0XHRcdFx0a2V5Q29kZSA9IGUua2V5Q29kZVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gaWYgbm90IEB1cExpc3RlbmVyc1trZXlDb2RlXVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIEBhY3RpdmVLZXlzW2tleUNvZGVdXHJcblxyXG5cdFx0XHRcdFx0QGFjdGl2ZUtleXNba2V5Q29kZV0gPSBvZmZcclxuXHJcblxyXG5cdFx0XHRcdEB1cExpc3RlbmVyc1trZXlDb2RlXSBlXHJcblxyXG5cclxuXHJcblxyXG5cdFx0b25Eb3duOiAoa2V5Q29kZSwgZnVuYykgLT5cclxuXHJcblx0XHRcdEBkb3duTGlzdGVuZXJzW2tleUNvZGVdID0gZnVuY1xyXG5cdFx0XHRcclxuXHRcdG9uVXA6IChrZXlDb2RlLCBmdW5jKSAtPlxyXG5cclxuXHRcdFx0QHVwTGlzdGVuZXJzW2tleUNvZGVdID0gZnVuY1xyXG5cclxuIiwiaWYgdHlwZW9mIGRlZmluZSBpc250ICdmdW5jdGlvbicgdGhlbiBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSlcclxuXHJcbmRlZmluZSAtPlxyXG5cclxuXHRjbGFzcyBUZXN0IiwiZGVmaW5lIC0+XHJcblxyXG5cdFRyYW5zaXRpb25zID1cclxuXHJcblx0XHRsaW5lYXI6IChwKSAtPiBwXHJcblxyXG5cdFRyYW5zaXRpb25zLmRlZmluZSA9IChuYW1lLCBmdW5jKSAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiBuYW1lIGlzICdvYmplY3QnXHJcblxyXG5cdFx0XHRUcmFuc2l0aW9ucy5kZWZpbmUgX25hbWUsIF9mdW5jIGZvciBfbmFtZSwgX2Z1bmMgb2YgbmFtZVxyXG5cclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0VHJhbnNpdGlvbnNbbmFtZV0gPVxyXG5cclxuXHRcdFx0ZWFzZUluOiBmdW5jXHJcblxyXG5cdFx0XHRlYXNlT3V0OiAocCkgLT4gMSAtIGZ1bmMoIDEgLSBwIClcclxuXHJcblx0XHRcdGVhc2VJbk91dDogKHApIC0+XHJcblxyXG5cdFx0XHRcdGlmIHAgPD0gMC41XHJcblx0XHRcdFx0XHRyZXR1cm4gMC41ICogZnVuYyggcCAqIDIgKVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHJldHVybiAwLjUgKiAoIDIgLSBmdW5jKCAyICogKDEgLSBwKSApIClcclxuXHRcclxuXHRUcmFuc2l0aW9ucy5kZWZpbmVcclxuXHJcblx0XHRxdWFkOiBcdChwKSAtPiBNYXRoLnBvdyBwLCAyXHJcblx0XHRcclxuXHRcdGN1YmljOiBcdChwKSAtPiBNYXRoLnBvdyBwLCAzXHJcblxyXG5cdFx0cXVhcnQ6IFx0KHApIC0+IE1hdGgucG93IHAsIDRcclxuXHJcblx0XHRxdWludDogXHQocCkgLT4gTWF0aC5wb3cgcCwgNVxyXG5cclxuXHRcdGV4cG86IFx0KHApIC0+IE1hdGgucG93IDIsIDggKiAocCAtIDEpXHJcblxyXG5cdFx0Y2lyYzpcdChwKSAtPiAxIC0gTWF0aC5zaW4gTWF0aC5jb3MgcFxyXG5cclxuXHRcdHNpbmU6XHQocCkgLT4gMSAtIE1hdGguY29zIHAgKiBNYXRoLlBJIC8gMlxyXG5cclxuXHRUcmFuc2l0aW9uc1xyXG4iLCJkZWZpbmUgWyd0cmFuc2l0aW9ucyddLCAoVHJhbnNpdGlvbnMpIC0+XHJcblxyXG5cdGNsYXNzIFR3ZWVuXHJcblxyXG5cdFx0Y29uc3RydWN0b3I6IChAZWwsIEBmcm9tLCBAdG8sIEBkdXJhdGlvbiwgQGRlbGF5KSAtPlxyXG5cclxuXHRcdFx0XHJcblx0XHRzZXRTdGFydDogLT5cclxuXHJcblx0XHRcdEBzdGFydFRpbWUgPSBEYXRlLm5vdygpICsgQGRlbGF5XHJcblx0XHRcdFxyXG5cdFx0Y2FsY3VsYXRlUHJvZ3Jlc3M6IChAYWN0aW9uKSAtPlxyXG5cclxuXHRcdFx0bm93ID0gRGF0ZS5ub3coKVxyXG5cclxuXHRcdFx0aWYgKG5vdyAtIEBzdGFydFRpbWUpIDwgMFxyXG5cclxuXHRcdFx0XHRwcm9ncmVzcyA9IDBcclxuXHJcblx0XHRcdGVsc2VcclxuXHJcblx0XHRcdFx0cHJvZ3Jlc3MgPSAobm93IC0gQHN0YXJ0VGltZSkgLyBAZHVyYXRpb25cclxuXHJcblx0XHRcdEBjcmVhdGVDdXJ2ZSBwcm9ncmVzcyAjIHRoaXMuY3JlYXRlQ3VydmUocHJvZ3Jlc3MpXHJcblxyXG5cdFx0Y3JlYXRlQ3VydmU6IChwcm9ncmVzc1JhdGlvKSAtPlxyXG5cclxuXHRcdFx0aWYgQGFjdGlvbiBpcyAncXVpbnQnXHJcblx0XHRcdFxyXG5cdFx0XHRcdF9fcmVzdWx0ID0gVHJhbnNpdGlvbnMucXVpbnQuZWFzZU91dCBwcm9ncmVzc1JhdGlvXHJcblx0XHRcdFxyXG5cdFx0XHRpZiBAYWN0aW9uIGlzICdjb3NpbmUnXHJcblxyXG5cdFx0XHRcdF9fcmVzdWx0ID0gTWF0aC5jb3MgcHJvZ3Jlc3NSYXRpbyAqIE1hdGguUEkgLyAyXHJcblxyXG5cdFx0XHRfX3Jlc3VsdCIsImRlZmluZSAtPlxyXG5cclxuXHRjbGFzcyBWZWN0b3JcclxuXHJcblx0XHRjb25zdHJ1Y3RvcjogKEB4LCBAeSkgLT4iLCIjIGNvZGUgb246XHJcblxyXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuc2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcbmNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuY2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5sb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5sb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5sb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcbmNvbnNvbGUubG9nIGNsb3VkQmFja1xyXG5cclxuaSA9IDFcclxuXHJcbmogPSAxXHJcblxyXG4jIHNldFRpbWVvdXQgPT5cclxuXHJcbiMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcbiMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG4jICwgNTAwMFxyXG5cclxubGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxubGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcbmRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0IyBcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0IyBcdGkgPSAxXHJcblxyXG5cdCMgaWYgaiA+IDQwMFxyXG5cclxuXHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRqID0gMVxyXG5cclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdGkrK1xyXG5cclxuXHRqKytcclxuXHJcblx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSAxNlxyXG5cclxuXHJcbiIsIiMgUHJlcGFyaW5nIGZvciB0aGUgdGVzdHNcclxuYW1kZWZpbmUgPSByZXF1aXJlKCcuL2FtZGVmaW5lLmpzJykobW9kdWxlKVxyXG5wYXRoID0gcmVxdWlyZSAncGF0aCdcclxuXHJcbnBhdGhUb0xpYiA9IHBhdGgucmVzb2x2ZSBfX2Rpcm5hbWUsICcuLi9qcy9saWInXHJcblxyXG4jIFRvIGxvYWQgdGhlIGRlcGVuZGVuY2llcyBpbiBlYWNoIHRlc3RcclxuZ2xvYmFsLnNwZWMgPSAoZGVwZW5kZW5jaWVzLCBmdW5jKSAtPlxyXG5cclxuXHQjIFJlc29sdmUgcGF0aHMgZm9yIGRlcGVuZGVuY2llc1xyXG5cdHJlc29sdmVkRGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLm1hcCAoYWRkcikgLT5cclxuXHJcblx0XHRwYXRoLnJlc29sdmUgcGF0aFRvTGliLCBhZGRyXHJcblxyXG5cdGFtZGVmaW5lIHJlc29sdmVkRGVwZW5kZW5jaWVzLCBmdW5jXHJcblxyXG4jIFRoZSBsb3ZlbHkgc2hvdWxkLmpzIGZyYW1ld29ya1xyXG5nbG9iYWwuc2hvdWxkID0gcmVxdWlyZSAnc2hvdWxkJ1xyXG5cclxuIyBXZSdyZSBnb25uYSBuZWVkIGFzc2VydFxyXG5hc3NlcnQgPSByZXF1aXJlICdhc3NlcnQnXHJcblxyXG4jIHNob3VsZC5qcyBkb2Vzbid0IGRvIGRlZXAgZXF1YWwuXHJcbkFycmF5OjpzaG91bGRFcXVhbCA9IChiLCBtc2cgPSAnJykgLT5cclxuXHJcblx0aWYgbXNnXHJcblxyXG5cdFx0bXNnID0gJ3wgJyArIG1zZ1xyXG5cclxuXHRhc3NlcnQuZGVlcEVxdWFsIEAsIGIsIFwiVGhlIHR3byBhcnJheXMgYXJlIG5vdCBlcXVhbCBcIiArIG1zZyIsIiMgY29kZSBvbjpcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5za3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuY2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5jbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcbmxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcbmxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcbmxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuaSA9IDFcclxuXHJcbmogPSAxXHJcblxyXG4jIHNldFRpbWVvdXQgPT5cclxuXHJcbiMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcbiMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG4jICwgNTAwMFxyXG5cclxubGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxubGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcbmRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0IyBcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0IyBcdGkgPSAxXHJcblxyXG5cdCMgaWYgaiA+IDQwMFxyXG5cclxuXHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRqID0gMVxyXG5cclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdGkrK1xyXG5cclxuXHRqKytcclxuXHJcblx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSAxNlxyXG5cclxuXHJcbiIsIiMgY29kZSBvbjpcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5za3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuY2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5jbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcbmxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcbmxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcbmxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuaSA9IDFcclxuXHJcbmogPSAxXHJcblxyXG4jIHNldFRpbWVvdXQgPT5cclxuXHJcbiMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcbiMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG4jICwgNTAwMFxyXG5cclxubGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxubGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcbmRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0IyBcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0IyBcdGkgPSAxXHJcblxyXG5cdCMgaWYgaiA+IDQwMFxyXG5cclxuXHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRqID0gMVxyXG5cclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdGkrK1xyXG5cclxuXHRqKytcclxuXHJcblx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHJcbiIsIiMgY29kZSBvbjpcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5za3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuY2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5jbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcbmxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcbmxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcbmxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuaSA9IDFcclxuXHJcbmogPSAxXHJcblxyXG4jIHNldFRpbWVvdXQgPT5cclxuXHJcbiMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcbiMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG4jICwgNTAwMFxyXG5cclxubGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxubGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcbmRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0IyBcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0IyBcdGkgPSAxXHJcblxyXG5cdCMgaWYgaiA+IDQwMFxyXG5cclxuXHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRqID0gMVxyXG5cclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdGkrK1xyXG5cclxuXHRqKytcclxuXHJcblx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdGRvIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHJcbiIsIiMgY29kZSBvbjpcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5za3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuY2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5jbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcbmxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcbmxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcbmxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuaSA9IDFcclxuXHJcbmogPSAxXHJcblxyXG4jIHNldFRpbWVvdXQgPT5cclxuXHJcbiMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcbiMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG4jICwgNTAwMFxyXG5cclxubGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxubGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcbmRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0IyBcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0IyBcdGkgPSAxXHJcblxyXG5cdCMgaWYgaiA+IDQwMFxyXG5cclxuXHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRqID0gMVxyXG5cclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdGkrK1xyXG5cclxuXHRqKytcclxuXHJcblx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdGRvIHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuIiwiIyBjb2RlIG9uOlxyXG5cclxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IChjYikgLT5cclxuXHJcblx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcbnNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5jbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcbmNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxubG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxubG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxubG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5pID0gMVxyXG5cclxuaiA9IDFcclxuXHJcbiMgc2V0VGltZW91dCA9PlxyXG5cclxuIyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcbiMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuIyBcdGxvZ28uc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcbiMgLCA1MDAwXHJcblxyXG5sYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5sYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0IyBpZiBpID4gNTQwMFxyXG5cclxuXHQjIFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHQjIFx0aSA9IDFcclxuXHJcblx0IyBpZiBqID4gNDAwXHJcblxyXG5cdCMgXHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0IyBcdGogPSAxXHJcblxyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0aSsrXHJcblxyXG5cdGorK1xyXG5cclxuXHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1vdmVDbG91ZHNcclxuXHJcblxyXG4iLCIjIGNvZGUgb246XHJcblxyXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuc2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcbmNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuY2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5sb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5sb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5sb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcbmkgPSAxXHJcblxyXG5qID0gMVxyXG5cclxuIyBzZXRUaW1lb3V0ID0+XHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuIyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG4jIFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuIyAsIDUwMDBcclxuXHJcbmxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcbmxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5kbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHQjIGlmIGkgPiA1NDAwXHJcblxyXG5cdCMgXHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRpID0gMVxyXG5cclxuXHQjIGlmIGogPiA0MDBcclxuXHJcblx0IyBcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHQjIFx0aiA9IDFcclxuXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRpKytcclxuXHJcblx0aisrXHJcblxyXG5cdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcbiIsIiMgY29kZSBvbjpcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG4jIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG4jIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcbiMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuc2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcbmNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuY2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5sb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5sb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5sb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcbmkgPSAxXHJcblxyXG5qID0gMVxyXG5cclxuIyBzZXRUaW1lb3V0ID0+XHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuIyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG4jIFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuIyAsIDUwMDBcclxuXHJcbmxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcbmxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5kbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHQjIGlmIGkgPiA1NDAwXHJcblxyXG5cdCMgXHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRpID0gMVxyXG5cclxuXHQjIGlmIGogPiA0MDBcclxuXHJcblx0IyBcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHQjIFx0aiA9IDFcclxuXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRpKytcclxuXHJcblx0aisrXHJcblxyXG5cdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcbiIsIiIsImdldENTU1Byb3AgPSBkbyAtPlxyXG5cclxuXHRwID0gbnVsbFxyXG5cclxuXHRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ2RpdidcclxuXHJcblx0KHBvc3NpYmxlUHJvcHMpIC0+XHJcblxyXG5cdFx0Zm9yIHByb3AgaW4gcG9zc2libGVQcm9wc1xyXG5cclxuXHRcdFx0cmV0dXJuIHByb3AgaWYgZWwuc3R5bGVbcHJvcF0gaXNudCB1bmRlZmluZWRcclxuXHJcblx0XHRmYWxzZVxyXG5cclxuY3NzUHJvcGVydHlTZXR0ZXIgPSAocHJvcCkgLT5cclxuXHJcblx0YWN0dWFsUHJvcCA9IGdldENTU1Byb3AgZ2V0UG9zc2libGVQcm9wc0ZvciBwcm9wXHJcblxyXG5cdHJldHVybiAoLT4pIHVubGVzcyBhY3R1YWxQcm9wXHJcblxyXG5cdChlbCwgdikgLT4gZWwuc3R5bGVbYWN0dWFsUHJvcF0gPSB2XHJcblxyXG5nZXRQb3NzaWJsZVByb3BzRm9yID0gKHByb3ApIC0+XHJcblxyXG5cdFtcclxuXHRcdCd3ZWJraXQnICsgcHJvcFswXS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zdWJzdHIoMSwgcHJvcC5sZW5ndGgpLFxyXG5cclxuXHRcdCdtb3onICsgcHJvcFswXS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zdWJzdHIoMSwgcHJvcC5sZW5ndGgpLFxyXG5cclxuXHRcdCdtcycgKyBwcm9wWzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnN1YnN0cigxLCBwcm9wLmxlbmd0aCksXHJcblxyXG5cdFx0cHJvcFxyXG5cdF1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY3NzID1cclxuXHJcblx0c2V0VHJhbnNmb3JtOiBjc3NQcm9wZXJ0eVNldHRlciAndHJhbnNmb3JtJ1xyXG5cclxuXHRzZXRUcmFuc2Zvcm1TdHlsZTogY3NzUHJvcGVydHlTZXR0ZXIgJ3RyYW5zZm9ybVN0eWxlJ1xyXG5cclxuXHRzZXRUcmFuc2Zvcm1PcmlnaW46IGNzc1Byb3BlcnR5U2V0dGVyICd0cmFuc2Zvcm1PcmlnaW4nXHJcblxyXG5cdHNldENzc0ZpbHRlcjogY3NzUHJvcGVydHlTZXR0ZXIgJ2ZpbHRlcidcclxuXHJcblx0c2V0VHJhbnNpdGlvbkR1cmF0aW9uOiBjc3NQcm9wZXJ0eVNldHRlciAndHJhbnNpdGlvbkR1cmF0aW9uJ1xyXG5cclxuXHRzZXRUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGNzc1Byb3BlcnR5U2V0dGVyICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nXHJcblxyXG5cdCMgVHVybnMgbnVtYmVycyB0byBjc3MgcmdiIHJlcHJlc2VudGF0aW9uXHJcblx0cmdiOiAociwgZywgYikgLT5cclxuXHJcblx0XHQncmdiKCcgKyByICsgJywgJyArIGcgKyAnLCAnICsgYiArICcpJyIsIiMgY29kZSBvbjpcclxuY3NzID0gcmVxdWlyZSAnLi4vbGliL2NzcydcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG4jIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG4jIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcbiMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuc2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcbmNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuY2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5sb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5sb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5sb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcbmkgPSAxXHJcblxyXG5qID0gMVxyXG5cclxuIyBzZXRUaW1lb3V0ID0+XHJcblxyXG4jIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuIyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG4jIFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuIyAsIDUwMDBcclxuXHJcbmxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcbmxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5kbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHJcblx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0IyBpZiBpID4gNTQwMFxyXG5cclxuXHQjIFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHQjIFx0aSA9IDFcclxuXHJcblx0IyBpZiBqID4gNDAwXHJcblxyXG5cdCMgXHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0IyBcdGogPSAxXHJcblxyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0aSsrXHJcblxyXG5cdGorK1xyXG5cclxuXHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1vdmVDbG91ZHNcclxuXHJcblxyXG4iLCIjIGNvZGUgb246XHJcbmNzcyA9IHJlcXVpcmUgJy4uL2xpYi9jc3MnXHJcblxyXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZG8gLT5cclxuXHJcblx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0aWYgdHlwZW9mIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuIyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuIyBcdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG4jIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcbnNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5jbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcbmNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxubG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxubG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxubG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5pID0gMVxyXG5cclxuaiA9IDFcclxuXHJcbiMgc2V0VGltZW91dCA9PlxyXG5cclxuIyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcbiMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuIyBcdGxvZ28uc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcbiMgLCA1MDAwXHJcblxyXG5sYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5sYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHQjIGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHQjIGlmIGkgPiA1NDAwXHJcblxyXG5cdCMgXHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdCMgXHRpID0gMVxyXG5cclxuXHQjIGlmIGogPiA0MDBcclxuXHJcblx0IyBcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHQjIFx0aiA9IDFcclxuXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRpKytcclxuXHJcblx0aisrXHJcblxyXG5cdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcbiIsImRlZmluZSBbJy4uL2xpYi9jc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdCMgc2V0VGltZW91dCA9PlxyXG5cclxuXHQjIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHQjIFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0IyBcdGxvZ28uc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcblx0IyAsIDUwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGlmIGkgPiA1NDAwXHJcblxyXG5cdFx0IyBcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHQjIFx0aSA9IDFcclxuXHJcblx0XHQjIGlmIGogPiA0MDBcclxuXHJcblx0XHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0IyBcdGogPSAxXHJcblxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcbiIsImRvIC0+XHJcblxyXG5cdGdldENTU1Byb3AgPSBkbyAtPlxyXG5cclxuXHRcdHAgPSBudWxsXHJcblxyXG5cdFx0ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICdkaXYnXHJcblxyXG5cdFx0KHBvc3NpYmxlUHJvcHMpIC0+XHJcblxyXG5cdFx0XHRmb3IgcHJvcCBpbiBwb3NzaWJsZVByb3BzXHJcblxyXG5cdFx0XHRcdHJldHVybiBwcm9wIGlmIGVsLnN0eWxlW3Byb3BdIGlzbnQgdW5kZWZpbmVkXHJcblxyXG5cdFx0XHRmYWxzZVxyXG5cclxuXHRjc3NQcm9wZXJ0eVNldHRlciA9IChwcm9wKSAtPlxyXG5cclxuXHRcdGFjdHVhbFByb3AgPSBnZXRDU1NQcm9wIGdldFBvc3NpYmxlUHJvcHNGb3IgcHJvcFxyXG5cclxuXHRcdHJldHVybiAoLT4pIHVubGVzcyBhY3R1YWxQcm9wXHJcblxyXG5cdFx0KGVsLCB2KSAtPiBlbC5zdHlsZVthY3R1YWxQcm9wXSA9IHZcclxuXHJcblx0Z2V0UG9zc2libGVQcm9wc0ZvciA9IChwcm9wKSAtPlxyXG5cclxuXHRcdFtcclxuXHRcdFx0J3dlYmtpdCcgKyBwcm9wWzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnN1YnN0cigxLCBwcm9wLmxlbmd0aCksXHJcblxyXG5cdFx0XHQnbW96JyArIHByb3BbMF0udG9VcHBlckNhc2UoKSArIHByb3Auc3Vic3RyKDEsIHByb3AubGVuZ3RoKSxcclxuXHJcblx0XHRcdCdtcycgKyBwcm9wWzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnN1YnN0cigxLCBwcm9wLmxlbmd0aCksXHJcblxyXG5cdFx0XHRwcm9wXHJcblx0XHRdXHJcblxyXG5cdGNzcyA9XHJcblxyXG5cdFx0c2V0VHJhbnNmb3JtOiBjc3NQcm9wZXJ0eVNldHRlciAndHJhbnNmb3JtJ1xyXG5cclxuXHRcdHNldFRyYW5zZm9ybVN0eWxlOiBjc3NQcm9wZXJ0eVNldHRlciAndHJhbnNmb3JtU3R5bGUnXHJcblxyXG5cdFx0c2V0VHJhbnNmb3JtT3JpZ2luOiBjc3NQcm9wZXJ0eVNldHRlciAndHJhbnNmb3JtT3JpZ2luJ1xyXG5cclxuXHRcdHNldENzc0ZpbHRlcjogY3NzUHJvcGVydHlTZXR0ZXIgJ2ZpbHRlcidcclxuXHJcblx0XHRzZXRUcmFuc2l0aW9uRHVyYXRpb246IGNzc1Byb3BlcnR5U2V0dGVyICd0cmFuc2l0aW9uRHVyYXRpb24nXHJcblxyXG5cdFx0c2V0VHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBjc3NQcm9wZXJ0eVNldHRlciAndHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJ1xyXG5cclxuXHRcdCMgVHVybnMgbnVtYmVycyB0byBjc3MgcmdiIHJlcHJlc2VudGF0aW9uXHJcblx0XHRyZ2I6IChyLCBnLCBiKSAtPlxyXG5cclxuXHRcdFx0J3JnYignICsgciArICcsICcgKyBnICsgJywgJyArIGIgKyAnKSciLCJkZWZpbmUgLT5cclxuXHJcblx0Z2V0Q1NTUHJvcCA9IGRvIC0+XHJcblxyXG5cdFx0cCA9IG51bGxcclxuXHJcblx0XHRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ2RpdidcclxuXHJcblx0XHQocG9zc2libGVQcm9wcykgLT5cclxuXHJcblx0XHRcdGZvciBwcm9wIGluIHBvc3NpYmxlUHJvcHNcclxuXHJcblx0XHRcdFx0cmV0dXJuIHByb3AgaWYgZWwuc3R5bGVbcHJvcF0gaXNudCB1bmRlZmluZWRcclxuXHJcblx0XHRcdGZhbHNlXHJcblxyXG5cdGNzc1Byb3BlcnR5U2V0dGVyID0gKHByb3ApIC0+XHJcblxyXG5cdFx0YWN0dWFsUHJvcCA9IGdldENTU1Byb3AgZ2V0UG9zc2libGVQcm9wc0ZvciBwcm9wXHJcblxyXG5cdFx0cmV0dXJuICgtPikgdW5sZXNzIGFjdHVhbFByb3BcclxuXHJcblx0XHQoZWwsIHYpIC0+IGVsLnN0eWxlW2FjdHVhbFByb3BdID0gdlxyXG5cclxuXHRnZXRQb3NzaWJsZVByb3BzRm9yID0gKHByb3ApIC0+XHJcblxyXG5cdFx0W1xyXG5cdFx0XHQnd2Via2l0JyArIHByb3BbMF0udG9VcHBlckNhc2UoKSArIHByb3Auc3Vic3RyKDEsIHByb3AubGVuZ3RoKSxcclxuXHJcblx0XHRcdCdtb3onICsgcHJvcFswXS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zdWJzdHIoMSwgcHJvcC5sZW5ndGgpLFxyXG5cclxuXHRcdFx0J21zJyArIHByb3BbMF0udG9VcHBlckNhc2UoKSArIHByb3Auc3Vic3RyKDEsIHByb3AubGVuZ3RoKSxcclxuXHJcblx0XHRcdHByb3BcclxuXHRcdF1cclxuXHJcblx0Y3NzID1cclxuXHJcblx0XHRzZXRUcmFuc2Zvcm06IGNzc1Byb3BlcnR5U2V0dGVyICd0cmFuc2Zvcm0nXHJcblxyXG5cdFx0c2V0VHJhbnNmb3JtU3R5bGU6IGNzc1Byb3BlcnR5U2V0dGVyICd0cmFuc2Zvcm1TdHlsZSdcclxuXHJcblx0XHRzZXRUcmFuc2Zvcm1PcmlnaW46IGNzc1Byb3BlcnR5U2V0dGVyICd0cmFuc2Zvcm1PcmlnaW4nXHJcblxyXG5cdFx0c2V0Q3NzRmlsdGVyOiBjc3NQcm9wZXJ0eVNldHRlciAnZmlsdGVyJ1xyXG5cclxuXHRcdHNldFRyYW5zaXRpb25EdXJhdGlvbjogY3NzUHJvcGVydHlTZXR0ZXIgJ3RyYW5zaXRpb25EdXJhdGlvbidcclxuXHJcblx0XHRzZXRUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGNzc1Byb3BlcnR5U2V0dGVyICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nXHJcblxyXG5cdFx0IyBUdXJucyBudW1iZXJzIHRvIGNzcyByZ2IgcmVwcmVzZW50YXRpb25cclxuXHRcdHJnYjogKHIsIGcsIGIpIC0+XHJcblxyXG5cdFx0XHQncmdiKCcgKyByICsgJywgJyArIGcgKyAnLCAnICsgYiArICcpJyIsImRlZmluZSBbJ2NzcyddLCAoY3NzKSAtPlxyXG5cclxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZG8gLT5cclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG5cdCMgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IChjYikgLT5cclxuXHJcblx0IyBcdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5cdCMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuXHRza3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuXHRjbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcblx0Y2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5cdGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcblx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcblx0aSA9IDFcclxuXHJcblx0aiA9IDFcclxuXHJcblx0IyBzZXRUaW1lb3V0ID0+XHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuXHQjIFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQjICwgNTAwMFxyXG5cclxuXHRsYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5cdGxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5cdGRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHRcdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0XHQjIFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdCMgXHRpID0gMVxyXG5cclxuXHRcdCMgaWYgaiA+IDQwMFxyXG5cclxuXHRcdCMgXHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHQjIFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHQjIHNldFRpbWVvdXQgPT5cclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCMgLCA1MDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0XHQjIFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdCMgXHRpID0gMVxyXG5cclxuXHRcdCMgaWYgaiA+IDQwMFxyXG5cclxuXHRcdCMgXHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHQjIFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHQjIHNldFRpbWVvdXQgPT5cclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCMgLCA1MDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgaWYgaSA+IDU0MDBcclxuXHJcblx0XHQjIFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdCMgXHRpID0gMVxyXG5cclxuXHRcdCMgaWYgaiA+IDQwMFxyXG5cclxuXHRcdCMgXHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHQjIFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHQjIHNldFRpbWVvdXQgPT5cclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCMgLCA1MDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGlmIGkgPiA1NDAwXHJcblxyXG5cdFx0IyBcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHQjIFx0aSA9IDFcclxuXHJcblx0XHQjIGlmIGogPiA0MDBcclxuXHJcblx0XHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0IyBcdGogPSAxXHJcblxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcbiIsImRlZmluZSBbJ2NzcyddLCAoY3NzKSAtPlxyXG5cclxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZG8gLT5cclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG5cdCMgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IChjYikgLT5cclxuXHJcblx0IyBcdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5cdCMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuXHRza3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuXHRjbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcblx0Y2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5cdGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcblx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcblx0aSA9IDFcclxuXHJcblx0aiA9IDFcclxuXHJcblx0IyBzZXRUaW1lb3V0ID0+XHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuXHQjIFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQjICwgNTAwMFxyXG5cclxuXHRsYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5cdGxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5cdGRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHRcdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblx0XHQjIGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0aWYgaSA+IDI4MDBcclxuXHJcblx0XHRcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGkgPSAxXHJcblxyXG5cdFx0aWYgaiA+IDQ5NTBcclxuXHJcblx0XHRcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHQjIHNldFRpbWVvdXQgPT5cclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0IyBcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdCMgXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCMgLCA1MDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2l9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3staiAvIDJ9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHRpZiBpID4gMjgwMFxyXG5cclxuXHRcdFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aSA9IDFcclxuXHJcblx0XHRpZiBqID4gNDk1MFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0XHRsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdFx0aSsrXHJcblxyXG5cdFx0aisrXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1vdmVDbG91ZHNcclxuXHJcblxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgNjAwMFxyXG5cclxuXHRsYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5cdGxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5cdGRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHRcdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWogLyAyfXB4KVwiXHJcblx0XHQjIGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0aWYgaSA+IDI4MDBcclxuXHJcblx0XHRcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGkgPSAxXHJcblxyXG5cdFx0aWYgaiA+IDQ5NTBcclxuXHJcblx0XHRcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0bGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHRzZXRUaW1lb3V0ID0+XHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQsIDEwMDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2l9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3staiAvIDJ9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHRpZiBpID4gMjgwMFxyXG5cclxuXHRcdFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aSA9IDFcclxuXHJcblx0XHRpZiBqID4gNDk1MFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0XHRsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdFx0aSsrXHJcblxyXG5cdFx0aisrXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1vdmVDbG91ZHNcclxuXHJcblxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMTAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgaWYgaSA+IDI4MDBcclxuXHJcblx0XHQjIFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdCMgXHRpID0gMVxyXG5cclxuXHRcdCMgaWYgaiA+IDQ5NTBcclxuXHJcblx0XHQjIFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0IyBcdGogPSAxXHJcblxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcbiIsImRlZmluZSBbJ2NzcyddLCAoY3NzKSAtPlxyXG5cclxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZG8gLT5cclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG5cdCMgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IChjYikgLT5cclxuXHJcblx0IyBcdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5cdCMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuXHRza3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuXHRjbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcblx0Y2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5cdGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcblx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcblx0aSA9IDFcclxuXHJcblx0aiA9IDFcclxuXHJcblx0c2V0VGltZW91dCA9PlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcblx0LCAxMDAwMFxyXG5cclxuXHRsYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5cdGxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5cdGRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHRcdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWogLyAyfXB4KVwiXHJcblx0XHQjIGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0aWYgaSA+IDYzMDBcclxuXHJcblx0XHRcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGkgPSAxXHJcblxyXG5cdFx0aWYgaiA+IDExMTAwXHJcblxyXG5cdFx0XHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGogPSAxXHJcblxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0bGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcbiIsImRlZmluZSBbJ2NzcyddLCAoY3NzKSAtPlxyXG5cclxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZG8gLT5cclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG5cdCMgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IChjYikgLT5cclxuXHJcblx0IyBcdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5cdCMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuXHRza3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuXHRjbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcblx0Y2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5cdGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcblx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcblx0aSA9IDFcclxuXHJcblx0aiA9IDFcclxuXHJcblx0c2V0VGltZW91dCA9PlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcblx0LCAxMDAwMFxyXG5cclxuXHRsYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5cdGxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5cdGRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHRcdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWogLyAyfXB4KVwiXHJcblx0XHQjIGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0aWYgaSA+IDYzMDBcclxuXHJcblx0XHRcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGkgPSAxXHJcblxyXG5cdFx0aWYgaiA+IDExMTAwXHJcblxyXG5cdFx0XHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGogPSAxXHJcblxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0IyBsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdFx0aSsrXHJcblxyXG5cdFx0aisrXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1vdmVDbG91ZHNcclxuXHJcblxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMjAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdGlmIGkgPiA2MzAwXHJcblxyXG5cdFx0XHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRpID0gMVxyXG5cclxuXHRcdGlmIGogPiAxMTEwMFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgbGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdCMgbGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZHMnXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHRzZXRUaW1lb3V0ID0+XHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQsIDIwMDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2l9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3staiAvIDJ9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHRpZiBpID4gNjMwMFxyXG5cclxuXHRcdFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aSA9IDFcclxuXHJcblx0XHRpZiBqID4gMTExMDBcclxuXHJcblx0XHRcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHQjIGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0XHQjIGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcblx0bG9nby5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgKGUpIC0+XHJcblxyXG5cdFx0Y2xvdWRzLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjFzXCJcclxuXHJcblx0XHRjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKC0yMDBweClcIlxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkcydcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMjAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdGlmIGkgPiA2MzAwXHJcblxyXG5cdFx0XHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRpID0gMVxyXG5cclxuXHRcdGlmIGogPiAxMTEwMFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgbGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdCMgbGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuXHRsb2dvLmFkZEV2ZW50TGlzdGVuZXIgXCJjbGlja1wiLCAoZSkgLT5cclxuXHJcblx0XHRjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMXNcIlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInJvdGF0ZVgoLTgwZGVnKSB0cmFuc2xhdGVZKC0yMDBweClcIlxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkcydcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMjAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdGlmIGkgPiA2MzAwXHJcblxyXG5cdFx0XHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRpID0gMVxyXG5cclxuXHRcdGlmIGogPiAxMTEwMFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgbGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdCMgbGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgKGUpIC0+XHJcblxyXG5cdFx0Y2xvdWRzLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjFzXCJcclxuXHJcblx0XHRjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJyb3RhdGVYKC04MGRlZykgdHJhbnNsYXRlWSgtMjAwcHgpXCJcclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZHMnXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHRzZXRUaW1lb3V0ID0+XHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQsIDIwMDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2l9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3staiAvIDJ9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHRpZiBpID4gNjMwMFxyXG5cclxuXHRcdFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aSA9IDFcclxuXHJcblx0XHRpZiBqID4gMTExMDBcclxuXHJcblx0XHRcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHQjIGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0XHQjIGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciBcImNsaWNrXCIsIChlKSAtPlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgMnNcIlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInJvdGF0ZVgoLTgwZGVnKSB0cmFuc2xhdGVZKC0yMDBweClcIlxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkcydcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMjAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdGlmIGkgPiA2MzAwXHJcblxyXG5cdFx0XHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRpID0gMVxyXG5cclxuXHRcdGlmIGogPiAxMTEwMFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgbGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdCMgbGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgKGUpIC0+XHJcblxyXG5cdFx0Y2xvdWRzLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIndlYmtpdC10cmFuc2Zvcm0gMnNcIlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInJvdGF0ZVgoLTgwZGVnKSB0cmFuc2xhdGVZKC0yMDBweClcIlxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkcydcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMjAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdGlmIGkgPiA2MzAwXHJcblxyXG5cdFx0XHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRpID0gMVxyXG5cclxuXHRcdGlmIGogPiAxMTEwMFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgbGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdCMgbGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgKGUpIC0+XHJcblxyXG5cdFx0IyBjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwid2Via2l0LXRyYW5zZm9ybSAyc1wiXHJcblxyXG5cdFx0Y2xvdWRzLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwicm90YXRlWCgtODBkZWcpIHRyYW5zbGF0ZVkoLTIwMHB4KVwiXHJcbiIsImRlZmluZSBbJ2NzcyddLCAoY3NzKSAtPlxyXG5cclxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZG8gLT5cclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG5cdCMgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IChjYikgLT5cclxuXHJcblx0IyBcdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5cdCMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuXHRza3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuXHRjbG91ZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWRzJ1xyXG5cclxuXHRjbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcblx0Y2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5cdGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcblx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcblx0aSA9IDFcclxuXHJcblx0aiA9IDFcclxuXHJcblx0c2V0VGltZW91dCA9PlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcblx0LCAyMDAwMFxyXG5cclxuXHRsYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5cdGxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5cdGRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHRcdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWogLyAyfXB4KVwiXHJcblx0XHQjIGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0aWYgaSA+IDYzMDBcclxuXHJcblx0XHRcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGkgPSAxXHJcblxyXG5cdFx0aWYgaiA+IDExMTAwXHJcblxyXG5cdFx0XHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGogPSAxXHJcblxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0IyBsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdFx0aSsrXHJcblxyXG5cdFx0aisrXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1vdmVDbG91ZHNcclxuXHJcblxyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgXCJjbGlja1wiLCAoZSkgLT5cclxuXHJcblx0XHQjIGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJ3ZWJraXQtdHJhbnNmb3JtIDJzXCJcclxuXHJcblx0XHRjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJyb3RhdGVYKC04MGRlZylcIlxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkcydcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMjAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdGlmIGkgPiA2MzAwXHJcblxyXG5cdFx0XHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRpID0gMVxyXG5cclxuXHRcdGlmIGogPiAxMTEwMFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgbGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdCMgbGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgKGUpIC0+XHJcblxyXG5cdFx0Y2xvdWRzLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCAyc1wiXHJcblxyXG5cdFx0Y2xvdWRzLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwicm90YXRlWCgtODBkZWcpXCJcclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZHMnXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHRzZXRUaW1lb3V0ID0+XHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQsIDIwMDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2l9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3staiAvIDJ9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHRpZiBpID4gNjMwMFxyXG5cclxuXHRcdFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aSA9IDFcclxuXHJcblx0XHRpZiBqID4gMTExMDBcclxuXHJcblx0XHRcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHQjIGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0XHQjIGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciBcImNsaWNrXCIsIChlKSAtPlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgMnNcIlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInJvdGF0ZVgoLTgwZGVnKVwiXHJcbiIsImRlZmluZSBbJ2NzcyddLCAoY3NzKSAtPlxyXG5cclxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZG8gLT5cclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHQoY2IpIC0+IHNldFRpbWVvdXQgY2IsIDE2LjY2XHJcblxyXG5cdCMgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IChjYikgLT5cclxuXHJcblx0IyBcdHNldFRpbWVvdXQgY2IsIDE2XHJcblxyXG5cdCMgY29uc29sZS5sb2cgc2V0VGltZW91dFxyXG5cclxuXHRza3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuc2t5J1xyXG5cclxuXHRjbG91ZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWRzJ1xyXG5cclxuXHRjbG91ZEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQtYmFjaydcclxuXHJcblx0Y2xvdWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcuY2xvdWQnXHJcblxyXG5cdGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICcubG9nbydcclxuXHJcblx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgyMDBweCkgcm90YXRlWCgtODBkZWcpXCJcclxuXHJcblx0aSA9IDFcclxuXHJcblx0aiA9IDFcclxuXHJcblx0c2V0VGltZW91dCA9PlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgxcHgpIHJvdGF0ZVgoMWRlZylcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcblx0LCAyMDAwMFxyXG5cclxuXHRsYWJlbEkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtaVwiXHJcblxyXG5cdGxhYmVsSiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1qXCJcclxuXHJcblxyXG5cdGRvIG1vdmVDbG91ZHMgPSAtPlxyXG5cclxuXHRcdCMgaWYgaSA8IDkwMFxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZCkubGVmdCkgLSAyICsgJ3B4J1xyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWRCYWNrKS5sZWZ0KSAtIDEgKyAncHgnXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZCwgXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpfXB4KVwiXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aSAqIDJ9cHgpXCJcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWogLyAyfXB4KVwiXHJcblx0XHQjIGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0aWYgaSA+IDYzMDBcclxuXHJcblx0XHRcdGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGkgPSAxXHJcblxyXG5cdFx0aWYgaiA+IDExMTAwXHJcblxyXG5cdFx0XHRjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCJcclxuXHJcblx0XHRcdGogPSAxXHJcblxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0IyBsYWJlbEkudmFsdWUgPSBpXHJcblxyXG5cdFx0IyBsYWJlbEoudmFsdWUgPSBqXHJcblxyXG5cdFx0aSsrXHJcblxyXG5cdFx0aisrXHJcblxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCIxNlwiXHJcblxyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lIG1vdmVDbG91ZHNcclxuXHJcblxyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgXCJjbGlja1wiLCAoZSkgLT5cclxuXHJcblx0XHRjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDJzXCJcclxuXHJcblx0XHRjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDIwcHgpXCJcclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZHMnXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHRzZXRUaW1lb3V0ID0+XHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQsIDIwMDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2l9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3staiAvIDJ9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHRpZiBpID4gNjMwMFxyXG5cclxuXHRcdFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aSA9IDFcclxuXHJcblx0XHRpZiBqID4gMTExMDBcclxuXHJcblx0XHRcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHQjIGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0XHQjIGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciBcImNsaWNrXCIsIChlKSAtPlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgMnNcIlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjBweClcIlxyXG4iLCJkZWZpbmUgWydjc3MnXSwgKGNzcykgLT5cclxuXHJcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGRvIC0+XHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0KGNiKSAtPiBzZXRUaW1lb3V0IGNiLCAxNi42NlxyXG5cclxuXHQjIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IG1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoY2IpIC0+XHJcblxyXG5cdCMgXHRzZXRUaW1lb3V0IGNiLCAxNlxyXG5cclxuXHQjIGNvbnNvbGUubG9nIHNldFRpbWVvdXRcclxuXHJcblx0c2t5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLnNreSdcclxuXHJcblx0Y2xvdWRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkcydcclxuXHJcblx0Y2xvdWRCYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkLWJhY2snXHJcblxyXG5cdGNsb3VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmNsb3VkJ1xyXG5cclxuXHRsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnLmxvZ28nXHJcblxyXG5cdGxvZ28uc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjAwcHgpIHJvdGF0ZVgoLTgwZGVnKVwiXHJcblxyXG5cdGkgPSAxXHJcblxyXG5cdGogPSAxXHJcblxyXG5cdHNldFRpbWVvdXQgPT5cclxuXHJcblx0XHRsb2dvLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMXB4KSByb3RhdGVYKDFkZWcpXCJcclxuXHJcblx0XHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG5cdCwgMjAwMDBcclxuXHJcblx0bGFiZWxJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWlcIlxyXG5cclxuXHRsYWJlbEogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHQtalwiXHJcblxyXG5cclxuXHRkbyBtb3ZlQ2xvdWRzID0gLT5cclxuXHJcblx0XHQjIGlmIGkgPCA5MDBcclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUubGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY2xvdWQpLmxlZnQpIC0gMiArICdweCdcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkQmFjaykubGVmdCkgLSAxICsgJ3B4J1xyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWQsIFwic2NhbGVYKC0xKSB0cmFuc2xhdGVYKCN7aX1weClcIlxyXG5cdFx0IyBjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2kgKiAyfXB4KVwiXHJcblxyXG5cdFx0Y3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qIC8gMn1weClcIlxyXG5cdFx0IyBjc3Muc2V0VHJhbnNmb3JtIGNsb3VkQmFjaywgXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoI3stan1weClcIlxyXG5cclxuXHRcdGlmIGkgPiA2MzAwXHJcblxyXG5cdFx0XHRjbG91ZC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRpID0gMVxyXG5cclxuXHRcdGlmIGogPiAxMTEwMFxyXG5cclxuXHRcdFx0Y2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKVwiXHJcblxyXG5cdFx0XHRqID0gMVxyXG5cclxuXHJcblx0XHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDRzXCJcclxuXHJcblx0XHRcdCMgY2xvdWRCYWNrLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdCMgbGFiZWxJLnZhbHVlID0gaVxyXG5cclxuXHRcdCMgbGFiZWxKLnZhbHVlID0galxyXG5cclxuXHRcdGkrK1xyXG5cclxuXHRcdGorK1xyXG5cclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiMTZcIlxyXG5cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSBtb3ZlQ2xvdWRzXHJcblxyXG5cclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgKGUpIC0+XHJcblxyXG5cdFx0IyBjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiYWxsIDJzXCJcclxuXHJcblx0XHRjbG91ZHMuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwcHgpXCJcclxuIiwiZGVmaW5lIFsnY3NzJ10sIChjc3MpIC0+XHJcblxyXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBkbyAtPlxyXG5cclxuXHRcdGlmIHR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzbnQgJ3VuZGVmaW5lZCcgdGhlbiByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcblxyXG5cdFx0aWYgdHlwZW9mIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaXNudCAndW5kZWZpbmVkJyB0aGVuIHJldHVybiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuXHJcblx0XHRpZiB0eXBlb2Ygd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSBpc250ICd1bmRlZmluZWQnIHRoZW4gcmV0dXJuIG1velJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG5cclxuXHRcdChjYikgLT4gc2V0VGltZW91dCBjYiwgMTYuNjZcclxuXHJcblx0IyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKGNiKSAtPlxyXG5cclxuXHQjIFx0c2V0VGltZW91dCBjYiwgMTZcclxuXHJcblx0IyBjb25zb2xlLmxvZyBzZXRUaW1lb3V0XHJcblxyXG5cdHNreSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5za3knXHJcblxyXG5cdGNsb3VkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZHMnXHJcblxyXG5cdGNsb3VkQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZC1iYWNrJ1xyXG5cclxuXHRjbG91ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5jbG91ZCdcclxuXHJcblx0bG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJy5sb2dvJ1xyXG5cclxuXHRsb2dvLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG5cdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDIwMHB4KSByb3RhdGVYKC04MGRlZylcIlxyXG5cclxuXHRpID0gMVxyXG5cclxuXHRqID0gMVxyXG5cclxuXHRzZXRUaW1lb3V0ID0+XHJcblxyXG5cdFx0bG9nby5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdGxvZ28uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDFweCkgcm90YXRlWCgxZGVnKVwiXHJcblxyXG5cdFx0bG9nby5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuXHQsIDIwMDAwXHJcblxyXG5cdGxhYmVsSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwidGV4dC1pXCJcclxuXHJcblx0bGFiZWxKID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0LWpcIlxyXG5cclxuXHJcblx0ZG8gbW92ZUNsb3VkcyA9IC0+XHJcblxyXG5cdFx0IyBpZiBpIDwgOTAwXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLmxlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGNsb3VkKS5sZWZ0KSAtIDIgKyAncHgnXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjbG91ZEJhY2spLmxlZnQpIC0gMSArICdweCdcclxuXHJcblx0XHRjc3Muc2V0VHJhbnNmb3JtIGNsb3VkLCBcInNjYWxlWCgtMSkgdHJhbnNsYXRlWCgje2l9cHgpXCJcclxuXHRcdCMgY2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoI3tpICogMn1weClcIlxyXG5cclxuXHRcdGNzcy5zZXRUcmFuc2Zvcm0gY2xvdWRCYWNrLCBcInRyYW5zbGF0ZVgoI3staiAvIDJ9cHgpXCJcclxuXHRcdCMgY3NzLnNldFRyYW5zZm9ybSBjbG91ZEJhY2ssIFwidHJhbnNsYXRlWCgjey1qfXB4KVwiXHJcblxyXG5cdFx0IyBjbG91ZEJhY2suc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKCN7LWp9cHgpXCJcclxuXHJcblx0XHRpZiBpID4gNjMwMFxyXG5cclxuXHRcdFx0Y2xvdWQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJzY2FsZVgoLTEpIHRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aSA9IDFcclxuXHJcblx0XHRpZiBqID4gMTExMDBcclxuXHJcblx0XHRcdGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIlxyXG5cclxuXHRcdFx0aiA9IDFcclxuXHJcblxyXG5cdFx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcImFsbCA0c1wiXHJcblxyXG5cdFx0XHQjIGNsb3VkQmFjay5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgNHNcIlxyXG5cclxuXHRcdFx0IyBjbG91ZC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuXHRcdFx0IyBjbG91ZEJhY2suc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcblx0XHQjIGxhYmVsSS52YWx1ZSA9IGlcclxuXHJcblx0XHQjIGxhYmVsSi52YWx1ZSA9IGpcclxuXHJcblx0XHRpKytcclxuXHJcblx0XHRqKytcclxuXHJcblx0XHQjIGNsb3VkLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIjE2XCJcclxuXHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbW92ZUNsb3Vkc1xyXG5cclxuXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciBcImNsaWNrXCIsIChlKSAtPlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCJhbGwgMnNcIlxyXG5cclxuXHRcdGNsb3Vkcy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInJvdGF0ZVgoLTgwZGVnKSB0cmFuc2xhdGVZKC0xMDBweClcIlxyXG4iLCJNZXRob2RDaGFpbiA9IHJlcXVpcmUgJ21ldGhvZC1jaGFpbidcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBDaGFpbl9cblxuXHRfZ2V0TWV0aG9kQ2hhaW46IC0+XG5cblx0XHR1bmxlc3MgQGNvbnN0cnVjdG9yLl9fbWV0aG9kQ2hhaW4/XG5cblx0XHRcdEBjb25zdHJ1Y3Rvci5fX21ldGhvZENoYWluID0gbmV3IE1ldGhvZENoYWluXG5cblx0XHRcdGZvciBrZXksIGZuIG9mIEBcblxuXHRcdFx0XHRjb250aW51ZSBpZiBrZXlbMF0gaXMgJ18nIG9yIGtleSBpcyAnY29uc3RydWN0b3InXG5cblx0XHRcdFx0Y29udGludWUgdW5sZXNzIGZuIGluc3RhbmNlb2YgRnVuY3Rpb25cblxuXHRcdFx0XHRAY29uc3RydWN0b3IuX19tZXRob2RDaGFpbi5hZGRNZXRob2Qga2V5XG5cblx0XHRAY29uc3RydWN0b3IuX19tZXRob2RDaGFpblxuXG5cdF9nZXROZXdJbnRlcmZhY2U6IC0+XG5cblx0XHRAX2dldE1ldGhvZENoYWluKCkuZ2V0SW50ZXJmYWNlKClcblxuXHRfZXZlbnRFbmFibGVkTWV0aG9kOiAoYXJncywgcnVuQ2FsbGJhY2spIC0+XG5cblx0XHRmbiA9IGFyZ3NbMF0gPyBudWxsXG5cblx0XHRpZiBmblxuXG5cdFx0XHRydW5DYWxsYmFjayA9PlxuXG5cdFx0XHRcdGZuLmFwcGx5IEAsIGFyZ3VtZW50c1xuXG5cdFx0XHRyZXR1cm4gQFxuXG5cdFx0ZWxzZVxuXG5cdFx0XHRfaW50ZXJmYWNlID0gQF9nZXROZXdJbnRlcmZhY2UoKVxuXG5cdFx0XHRydW5DYWxsYmFjayA9PlxuXG5cdFx0XHRcdCMgVE9ETzogbGF6eVZhbHVlc1xuXHRcdFx0XHRAX2dldE1ldGhvZENoYWluKCkucnVuIF9pbnRlcmZhY2UsIEBcblxuXHRcdFx0cmV0dXJuIF9pbnRlcmZhY2UiLCJjc3MgPSByZXF1aXJlICcuLi8uLi8uLi8uLi91dGlsaXR5L2NzcydcbkNvbG9ySG9sZGVyID0gcmVxdWlyZSAnLi4vdG9vbHMvQ29sb3JIb2xkZXInXG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgRmlsbF9cblxuXHRfX2luaXRNaXhpbkZpbGw6IC0+XG5cblx0XHRAZmlsbCA9IG5ldyBDb2xvckhvbGRlciBAX2dldEZpbGxVcGRhdGVyKClcblxuXHRcdEBfZmlsbCA9XG5cblx0XHRcdGJnQ29sb3I6ICdub25lJ1xuXG5cdFx0XHRjb2xvcjogJ2luaGVyaXQnXG5cblx0XHRcdGJvcmRlcjogJ25vbmUnXG5cblx0XHRcdG9wYWNpdHk6IDFcblxuXHRfX2Nsb25lckZvckZpbGw6IChuZXdTdHlsZVNldHRlcikgLT5cblxuXHRcdG5ld1N0eWxlU2V0dGVyLmZpbGwgPSBAZmlsbC5jbG9uZSBuZXdTdHlsZVNldHRlci5fZ2V0RmlsbFVwZGF0ZXIoKVxuXG5cdFx0cmV0dXJuXG5cblx0X2dldEZpbGxVcGRhdGVyOiAtPlxuXG5cdFx0PT5cblxuXHRcdFx0ZG8gQF91cGRhdGVGaWxsXG5cblx0XHRcdHJldHVyblxuXG5cdF91cGRhdGVGaWxsOiAtPlxuXG5cdFx0QF9zdHlsZXMuYmFja2dyb3VuZENvbG9yID0gQF9maWxsLmJnQ29sb3IgPSBAZmlsbC5fY29sb3IudG9Dc3MoKVxuXG5cdFx0QFxuXG5cdHJvdGF0ZUZpbGxIdWU6IChhbW91bnQpIC0+XG5cblx0XHRAX2ZpbGwuYmdDb2xvci5yb3RhdGVIdWUgYW1vdW50XG5cblx0XHRAX3N0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSBAX2ZpbGwuYmdDb2xvci50b0NzcygpXG5cblx0c2V0VGV4dENvbG9yOiAociwgZywgYikgLT5cblxuXHRcdEBfc3R5bGVzLmNvbG9yID0gQF9maWxsLmNvbG9yID0gY3NzLnJnYiByLCBnLCBiXG5cblx0XHRudWxsXG5cblx0bWFrZUhvbGxvdzogLT5cblxuXHRcdEBfc3R5bGVzLmJnQ29sb3IgPSBAX2ZpbGwuYmdDb2xvciA9ICd0cmFuc3BhcmVudCdcblxuXHR0ZXh0dXJpemU6IChmaWxlbmFtZSkgLT5cblxuXHRcdGFkZHIgPSBcIi4vaW1hZ2VzLyN7ZmlsZW5hbWV9XCJcblxuXHRcdEBfc3R5bGVzLmJhY2tncm91bmQgPSAndXJsKCcgKyBhZGRyICsgJyknXG5cblx0XHRAXG5cblx0c2V0VGV4dHVyZVBvc2l0aW9uOiAoeCwgeSkgLT5cblxuXHRcdEBfc3R5bGVzLmJhY2tncm91bmRQb3NpdGlvbiA9IFwiI3t4fXB4ICN7eX1weFwiXG5cblx0XHRAXG5cblx0c2V0Qm9yZGVyOiAodGhpY2tuZXNzLCByLCBnLCBiKSAtPlxuXG5cdFx0dW5sZXNzIHRoaWNrbmVzcz9cblxuXHRcdFx0QF9zdHlsZXMuYm9yZGVyID0gQF9maWxsLmJvcmRlciA9ICdub25lJ1xuXG5cdFx0ZWxzZVxuXG5cdFx0XHRAX3N0eWxlcy5ib3JkZXIgPSBAX2ZpbGwuYm9yZGVyID0gXCIje3RoaWNrbmVzc31weCBzb2xpZCAje2Nzcy5yZ2IociwgZywgYil9XCJcblxuXHRcdEBcblxuXHRyZW1vdmVCb3JkZXI6IC0+XG5cblx0XHRAX3N0eWxlcy5ib3JkZXIgPSBAX2ZpbGwuYm9yZGVyID0gJ25vbmUnXG5cblx0XHRAXG5cblx0c2V0T3BhY2l0eTogKGQpIC0+XG5cblx0XHRAX3N0eWxlcy5vcGFjaXR5ID0gQF9maWxsLm9wYWNpdHkgPSBkXG5cblx0XHRAXG5cblx0YWRqdXN0T3BhY2l0eTogKGQpIC0+XG5cblx0XHRAX2ZpbGwub3BhY2l0eSArPSBkO1xuXG5cdFx0QF9zdHlsZXMub3BhY2l0eSA9IEBfZmlsbC5vcGFjaXR5XG5cblx0XHRAIl19